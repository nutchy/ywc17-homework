<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <meta property="og:url" content="https://www.ชิมช้อปใช้.com/" />
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="มาตรการส่งเสริมการท่องเที่ยวในประเทศ “ชิมช้อปใช้”"
    />
    <meta
      property="og:description"
      content="ผู้สนใจเข้าร่วมมาตรการฯ สามารถลงทะเบียน ตั้งแต่ วันที่ 23 ก.ย. - 15 พ.ย. 62"
    />
    <meta
      property="og:image"
      content="https://nutchy.github.io/ywc17-homework/images/logo.png"
    />
    <meta
      property="title"
      content="มาตรการส่งเสริมการท่องเที่ยวในประเทศ “ชิมช้อปใช้”"
    />
    <meta
      property="description"
      content="ผู้สนใจเข้าร่วมมาตรการฯ สามารถลงทะเบียน ตั้งแต่ วันที่ 23 ก.ย. - 15 พ.ย. 62"
    />
    <meta
      name="description"
      content="ผู้สนใจเข้าร่วมมาตรการฯ สามารถลงทะเบียน ตั้งแต่ วันที่ 23 ก.ย. - 15 พ.ย. 62"
    />
    <link rel="stylesheet" href="style.css" />
    <title>ลงทะเบียนเข้าร่วมมาตรการ ชิมช้อปใช้</title>
  </head>
  <body>
    <section id="navbar">
      <div class="container nav-items">
        <img data-src="images/logo.png" alt="" class="logo" />
        <ul></ul>
        <div class="hamburger-menu">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </section>
    <section id="hero-banner">
      <div class="banner banner-left"></div>
      <div class="banner banner-center">
        <img data-src="images/logo.png" alt="โลโก้ชิมช้อปใช้" />
      </div>
      <div class="banner banner-right"></div>
    </section>
    <section id="campagne-duration">
      <div class="container">
        <p class="no-margin">ตั้งแต่วันที่</p>
        <h1></h1>
        <a href="https://regist.ชิมช้อปใช้.com/Register/" class="register-btn">
          ลงทะเบียน เฟส 2 <br />
          ตั้งแต่วันที่ 24 ต.ค.62 วันละ 2 รอบ รอบเวลา 6.00 และ 18.00 น.<br />
          จำกัดจำนวนผู้ลงทะเบียนรอบละ 5 แสนคน รวม 1 ล้านคนต่อวัน
        </a>
      </div>
    </section>
    <section id="campagne-detail">
      <div class="container">
        <h1 class="header-text">
          มาตรการส่งเสริมการบริโภค <br />
          ในประเทศ “ชิมช้อปใช้”
        </h1>
        <div class="description"></div>
        <h2 class="no-margin">เงื่อนไขการเข้าร่วมมาตรการ</h2>
        <div class="condition"></div>
      </div>
    </section>
    <section id="callcenter">
      <div class="container">
        <a href="tel:021111144" alt="คอลเซนเตอร์ ธนาคารกรุงไทย">
          <img
            data-src="images/callcenter/Banner_KTB_SQ.png"
            alt="โลโก้ธนาคารกรุงไทย"
            class="callcenter-logo"
          />
        </a>
        <a href="tel:022706400" alt="คอลเซนเตอร์ กรมบัญชีกลาง">
          <img
            data-src="images/callcenter/Banner_CGD_Sq.png"
            alt="โลโก้สายด่วนกรมบัญชีกลาง"
            class="callcenter-logo"
          />
        </a>
        <a href="tel:1672" alt="คอลเซ็นเตอร์ ข้อมูลท่องเที่ยว">
          <img
            data-src="images/callcenter/Banner_TAT_Hotline_Sq.png"
            alt="โลโก้สายด่วนการท่องเที่ยว"
            class="callcenter-logo"
          />
        </a>
      </div>
    </section>
    <section id="providers">
      <div class="container">
        <a
          href="https://www.mof.go.th/th/home"
          rel="noreferrer"
          target="_blank"
        >
          <img
            data-src="images/logos/MOF_sm.png"
            alt="โลโก้กระทรวงการคลัง"
            class="provider-logo"
          />
        </a>
        <a href="http://www.fpo.go.th/" rel="noreferrer" target="_blank">
          <img
            data-src="images/logos/FPO_sm.png"
            alt="โลโก้สำนักงานเศรษฐกิจการคลัง"
            class="provider-logo"
          />
        </a>
        <a href="https://www.cgd.go.th/" rel="noreferrer" target="_blank">
          <img
            data-src="images/logos/CGD_sm.png"
            alt="โลโก้กรมบัญชีกลาง"
            class="provider-logo"
          />
        </a>
        <a href="https://www.newcb.ktb.co.th/" rel="noreferrer" target="_blank">
          <img
            data-src="images/logos/Krungthai_sm.png"
            alt="โลโก้ธนาคารกรุงไทย"
            class="provider-logo"
          />
        </a>
        <a href="https://www.mots.go.th/" rel="noreferrer" target="_blank">
          <img
            data-src="images/logos/MOTS_sm.png"
            alt="โลโก้กระทรวงการท่องเที่ยวและกีฬา"
            class="provider-logo"
          />
        </a>
        <a
          href="https://thai.tourismthailand.org/"
          rel="noreferrer"
          target="_blank"
        >
          <img
            data-src="images/logos/TAT_sm.png"
            alt="โลโก้การท่องเที่ยวแห่งประเทศไทย"
            class="provider-logo"
          />
        </a>
      </div>
    </section>
    <section id="contact-information">
      <div class="container">
        <ul>
          <li>
            <img data-src="images/logo.png" alt="" />
          </li>
          <li>
            <p class="header">ข้อมูลลงทะเบียนประชาชน</p>
            <p>
              การรับสิทธิ การใช้งานแอปพลิเคชั่น
              <span class="nowrap">“เป๋าตัง”</span> และ
              <span class="nowrap">“ถุงเงิน”</span>
            </p>
            <p>ติดต่อ ชิมช้อปใช้ Call Center by Krungthai โทร.0 2111 1144</p>
          </li>
          <li>
            <p class="header">ข้อมูลลงทะเบียนผู้ประกอบการ</p>
            <p>
              เงื่อนไขและวิธีการเข้าร่วมมาตรการฯ ติดต่อ โทร.0 2270 6400 กด 7
            </p>
          </li>
          <li>
            <p class="header">ข้อมูลเที่ยวชิมช้อปใช้</p>
            <p>ติดต่อ ททท.</p>
            <p>โทร 1672</p>
          </li>
        </ul>
      </div>
    </section>
    <section id="footer-menu">
      <div class="container">
        <ul>
          <li>
            <span>Copyright © 2003-2019</span>
          </li>
          <li>
            <a
              href="https://regist.ชิมช้อปใช้.com/Register/"
              target="_blank"
              rel="noreferrer"
              >ลงทะเบียนเข้าร่วมมาตรการ</a
            >
          </li>
          <li>
            <a
              href="https://www2.ชิมช้อปใช้.com/howto-register"
              target="_blank"
              rel="noreferrer"
              >ขั้นตอนการเข้าร่วมทั้งหมด</a
            >
          </li>
          <li>
            <a
              href="https://www2.ชิมช้อปใช้.com/thung-ngern-shop-province"
              target="_blank"
              rel="noreferrer"
              >รายชื่อร้านค้าที่เข้าร่วมรายการ</a
            >
          </li>
        </ul>
      </div>
    </section>
    <script>
      document.addEventListener("DOMContentLoaded", onContentLoaded);
      async function onContentLoaded() {
        let contentJSON = JSON.parse(window.localStorage.getItem("data"));
        if (!contentJSON) {
          contentJSON = await fetchContent();
          window.localStorage.setItem("data", JSON.stringify(contentJSON));
        }
        renderContent(contentJSON);

        // Observe Images (Lazy Load)
        observeImages();
      }

      function fetchContent() {
        return fetch("https://panjs.com/ywc.json").then(response =>
          response.json()
        );
      }

      // Render content from data API
      function renderContent(contentJson) {
        const { condition, detail, duration, navbarItems } = contentJson;
        // Add nav item into navbar
        updateNavBarContent(navbarItems);

        // Duration content
        updateContent(".duration", duration);

        // Description content
        updateContent(".description", detail);

        // Condition content
        updateContent(".condition", condition);
      }

      /**
       * @params {Array} - navItems is array of menu object
       *  e.g. [ { href: "https://regist.ชิมช้อปใช้.com/Register/", label: "ลงทะเบียนเข้าร่วมมาตรการ"} ]
       **/
      function updateNavBarContent(navItems) {
        const navBarElement = document.querySelector("#navbar ul");
        navItems.forEach(item => {
          const { label, href } = item;
          const liElement = document.createElement("li");
          const navTextElement = document.createElement("a");
          navTextElement.innerHTML = label;
          navTextElement.setAttribute("href", href);
          liElement.appendChild(navTextElement);
          navBarElement.appendChild(liElement);
        });
      }

      function updateContent(className, content) {
        const element = document.querySelector(className);
        element.innerHTML = content;
      }

      // Prevent load image on off-screen
      function observeImages() {
        const images = document.querySelectorAll("img");
        const observer = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                let image = entry.target;
                image.setAttribute("src", image.getAttribute("data-src"));
                observer.unobserve(entry.target);
              }
            });
          },
          { rootMargin: "100px" }
        );
        images.forEach(img => observer.observe(img));
      }

      // Add toggle class for hamburger button
      const hamburgerBtn = document.querySelector(".hamburger-menu");
      const navBarElement = document.querySelector("#navbar ul");
      hamburgerBtn.addEventListener("click", () => {
        hamburgerBtn.classList.toggle("open");
        navBarElement.classList.toggle("open");
      });
    </script>
  </body>
</html>
